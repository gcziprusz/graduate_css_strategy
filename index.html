<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Graduate Your Stylesheet Strategy - @gcziprusz</title>
		<link rel="icon" type="image/png" href="favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="css/reveal.min.css">
		<style>
			.intro body {
				background:url("img/bd_graduate.jpg");
				background-position:center;
				background-size: cover;
			}
			.intro section h1{
				color: #000;
				text-shadow:none;
				font-size: 80px;
				margin-top: 80px;
				font-weight: bold;
			}
			.intro p small{
				color: #000;
				font-size: 40px;
			}
			.intro p small a:not(.image){
				color: #000;
			}
		</style>
		<link rel="stylesheet" href="css/theme/sky.css" id="sky">
		<link rel="stylesheet" href="lib/css/zenburn.css">
	<script>
	if ( window.location.search.match( /print-pdf/gi ) ) {
	  var link = document.createElement( "link" );
		link.rel = "stylesheet";
		link.type = "text/css";
		link.href = "css/print/pdf.css";
		document.getElementsByTagName( 'head' )[0].appendChild( link );
	}
		</script>
		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-state="intro">
					<h1>Graduate Your Stylesheet Strategy</h1>
					<p>
						<small><a href="http://gabrielcziprusz.com">Gabriel Cziprusz</a> | <a href="http://twitter.com/gcziprusz">@gcziprusz</a></small>
					</p>
				</section>
				<section data-background="#d1ebff">
					<h2>Agenda</h2>
					<ol>
						<li>Why do we have a stylesheet strategy</li>
						<li>Preprocessing</li>
						<li>Postprocessing</li>
						<li>Leveling the playing field</li>
						<li>Cascade and Specificity</li>
						<li>CSS methodology</li>
						<li>CSS performance</li>
						<li>Documentation / Style Guide Rizzo</li>
					</ol>
				</section>

				<section data-background="#d1ebff">
					<h2>Why do we have a stylesheet strategy</h2>
					<ul>
						<li class="fragment">Keeps things simple and DRY.</li>

						<li class="fragment">Reuse as much code as possible.</li>
						<li class="fragment">It allows us to change direction.</li>
						<pre class="fragment"><code>%rounded-corners
  border-radius: 4px

.box
  @extend %rounded-corners</code></pre>
            <li class="fragment">Keeps file sizes small and css performant.</li>
					</ul>
          <aside class="notes">
            SIMPLE
              - sounds self explanatory but this is a very imporant goal for us
              - application complexity goes UP
              - css is low barrier of entry, easy to understand and get started with
              - hard to maintain no constructs , loops, conditional, variables
              - can be the most fragile piece of your system,
              - test automation is hard
            REUSE
             - ad-hoc style development
              - we dont want the code to keep growing
              - think about it our sites all pages should have a coherent look
              - solid reausable css should allow us to just build a new page without
              adding new styles
              - we want a small managable source code
              - css doesnt minify well
            PIVOT
              - things are centralized
              - organized
              - grids are consistent
              - headings
              - colors
              - buttons
            PERFORMANCE
              - first 2 points above help us keep file size small
              - its importnat to try to keep fileizes small
              - we have a bundles and we minify but CSS doesnt minify as well well as JS
            </aside>
				</section>

				<section data-background="#d1ebff">
					<h2>Preprocessing</h2>
          <ul>
          <li class="fragment">What is it?</li>
				  <li class="fragment">CSS is hard to DRY</li>
          <li class="fragment">CSS has no variables, class constructs,  conditionals or loops </li>
					<li class="fragment">Preporcessor help fill the gap while css standards catch up</li>
          <li class="fragment">The most common ones are LESS and SASS</li>
          <li class="fragment">SASS has two distinct syntaxes</li>
          </ul>
          <pre class="fragment"><code>.SCSS
$primary-color: #333;

body { color: $primary-color; }

.SASS
primary-color: #333
body
  color: $primary-color</code></pre>

           </section>

           <section data-background="#d1ebff">
           <h2>Preprocessing</h2>
            <ul>
              <li class="fragment">.SCSS is the newer syntax </li>
              <li class="fragment">.SASS will never be deprecated</li>
              <li class="fragment">At Lonely Planet we use .SASS</li>
              <li class="fragment">Combined with HAML</li>
              <li class="fragment">The main benefit is maintainability</li>
            </ul>
            <pre class="fragment"><code>@mixin respond-to($screen-width)
  @if $screen-width == narrow-view
    $breakpoint: 360
  @media only screen and (min-width : #{$breakpoint}px)
    @content

.nav
  width: 100%
  +respond-to(narrow-view)
    width: 50px
    float: left</code></pre>
            <aside class="notes">
              .SASS
                - no bracket little bit more succinct syntax
                - .SCSS is an easier transition for developer
                - .CSS is valid .SCSS
            </aside>
				</section>

				<section data-background="#d1ebff">
					<h2>Postprocessing</h2>
          <ul>
            <li class="fragment">What is it and what does it solve?</li>
            <li class="fragment">Autoprefixer</li>
            <li class="fragment">Alternatives: mixins, js solutions <a href="http://leaverou.github.io/prefixfree/">prefixfree</a></li>
             <li class="fragment">Why lonely Planet we choose to use Autoprefixer</li>
          </ul>
					<pre class="fragment"><code data-trim style="font-size: 18px; margin-top: 20px;">
						.box{
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 	5px;
}
					</code></pre>

          <pre class="fragment"><code>@mixin border-radius($radius) {
  -webkit-border-radius: $radius;
  -moz-border-radius: $radius;
  border-radius: $radius;
}
.box { @include border-radius(10px); }</code></pre>
<pre class="fragment"><code data-trim style="font-size: 18px; margin-top: 20px;">
            .box
  border-radius: 5px

          </code></pre>
        <aside class="notes">
        WHAT IS IT
         - new CSS3 features are only available using vendor prefixes while the specification that hasnâ€™t been finalized.
         - This can create a lot of clutter in our stylesheets:
        </aside>
				</section>

				<section data-background="#d1ebff">
					<h2>Leveling the playing field</h2>
          <ul>
            <li class="fragment">Lonely Planet is built using the principles of progressive enhancement.</li>
            <li class="fragment">What browsers does Lonely Planet support?</li>
            <li class="fragment">We group browsers based on QuerySelector,Local Storage,ClassList,AddEventListener</li>
            <li class="fragment">Browsers that do not meet the criteria above only get analytics javascript, svg icons, CSS3 effects or fonts (IE8 is an exception)</li>


				 <aside class="notes">
          DEFAULT "SYSTEM" CSS
          - consulted when no user or author stylesheet
          - lonely planet normalize.css
        </aside>
        </section>
        <section data-background="#d1ebff">
        <h2>Leveling the playing field</h2>
        <ul>
           <li class="fragment">Knowing what we support is a good step towards leveling the playing field</li>
            <li class="fragment">Every browser has a default "system" stylesheet.</li>
            <li class="fragment">"system" styles aren't consistent across browsers</li>
            <li class="fragment">Before we wrote a single line of CSS our pages are not consistent across browsers</li>
            <li class="fragment">reset.css</li>
            <li class="fragment">normalize.css</li>
            <li class="fragment">lonelyplanet.com uses <a href="https://github.com/necolas/normalize.css">normalize.css by @necolas</a> (stripped down version to support IE8 +)</li>
          </ul>
        </section>

				<section data-background="#d1ebff">
					<h2>Cascade and Specificity</h2>
          <ul>
            <li class="fragment">Basic CSS concepts, yet often overlooked (IMO)</li>
            <li class="fragment">Root cause of CSS quality issues</li>
            </ul>
          <pre class="fragment"><code>div{
  display: block;
}</code></pre>
          <pre class="fragment"><code data-trim style="font-size: 18px; margin-top: 20px;">html body ul li a span#primary {
  font-weight: bold;
}</code></pre>
          <ul>
					<li class="fragment">CASCADE: Uses selector pattern matching to apply to elements style declarations that have cascaded from various sources</li>
          <li class="fragment">When more declarations apply to an element, importance, origin, specificity, and the source order determines which style to apply</li>
        </ul>
          <aside class="notes">
            SEPCIFICITY
             - specificity "war"
             - slippery slope
            CASCADE
             - only style whats different
             -
          </aside>
				</section>

        <section data-background="#d1ebff">
          <h2>Cascade and Specificity</h2>
          <ul>
          <li  class="fragment">SPECIFICITY: if importance and origin is the most specific selector will take precedence.</li>
          </ul>
          <table class="fragment">
          <thread>
            <tr><th>Least specific to most specific</th></tr>
          </thread>
          <tbody>
          <tr><td>Universal selectors</td></tr>
         <tr><td>Type selectors</td></tr>
         <tr><td>Class selectors</td></tr>
         <tr><td>Attributes selectors</td></tr>
         <tr><td>Pseudo-classes</td></tr>
         <tr><td>ID selectors</td></tr>
         <tr><td>Inline style</td></tr></tbody>
          </table>
        </section>

				<section data-background="#d1ebff">
					<h2>CSS methodology</h2>
          <ul>
          <li class="fragment">A methodology tells us how to do stuff</li>
          <li class="fragment">2+1 most common css methodologies are OOCSS, BEM and SMACSS</li>
          <li class="fragment">Each trying to achieve maintainable, reusable CSS in different ways</li>
          <li class="fragment">OOCSS is DRYing CSS using Object oriented design</li>
          <li class="fragment">BEM or block element modifier is a naming convention</li>
          </ul>
          <pre class="fragment"><code>.site-nav {} /* Block */
.site-nav__field {} /* Element */
.site-nav__field--full {} /* Modifier */</code></pre>
          <aside class="notes">
            OOCSS
              Nicole Sullivan  ~2009

              Each have drawbacks
            BEM
						 + semantics
             - wordy classnames
             - styles are easy to override
				  </aside>
        </section>

        <section data-background="#d1ebff">
        <h2>CSS methodology</h2>
          <ul>
           <li class="fragment">SMACSS +1 most influential aspect is its organizational system</li>
          <li class="fragment">At Lonely Planet we use ideas from SMACSS to organize our source files loosely follow OOCSS using BEM naming conventions</li>
          </ul>
        </section>
      	<section data-background="#d1ebff">
					<h2>CSS performance</h2>
          <ul>
            <li class="fragment">download speed, selector performance and reflows</li>
            <li class="fragment">We minimize css and create 2 css bundles core and app</li>
            <li class="fragment">Core.css is cached across lp.com includes: fonts, grids and header/footer styles</li>
            <li class="fragment">Our performance monitoring section helps us keep stats about stylesheets <a href="http://rizzo.lonelyplanet.com/performance/css-analysis">css analysis</a></li>
            <li class="fragment">CSS styles are start parsed from right to left</li>
          </ul>
<pre class="fragment"><code>.row div{ border: 1px solid red;}</code></pre>
          <ul>
            <li class="fragment">Leave efficient parsing to the engine</li>
            <li class="fragment">Edge cases <a href="http://vimeo.com/54990931">github's</a>file diff pages</li>
            <li class="fragment">minimize reflows by reducing DOM depth,less css rules, animations on fixed or absolute positioned elements
            </li>
          </ul>
					<aside class="notes">
            Lonely Planet we minimize CSS and load 2 files core cached for all of lp.com and section specific
            caching and file size
            PERFORMANCE
            Beneficial to know general rules
            rightmost is the key selector
             http://vimeo.com/54990931
          </aside>
				</section>

				<section data-background="#d1ebff">
					<h2>Documentation / Style Guide Rizzo</h2>
           <ul>
              <li>We believe in self documenting code and make documentation integral part of the codebase</li>
              <li>[doc]..[/doc] blocks that render sections of our styleguide</li>
            </ul>
				</section>

        <section data-background="#d1ebff">
          <h2>Documentation / Style Guide Rizzo</h2>
            <pre><code>// [doc] Vertically center content.
// Use this class on the container and __inner on the element to be centered.
// [/doc]
.vertically-centered</code></pre>
            <img src="img/centered.png" style="width:800px"/>
        </section>

        <section data-background="#d1ebff">
          <h2>Documentation / Style Guide Rizzo</h2>
           <ul>
              <li>Our open source Styleguide rizzo.lonelyplanet.com is our strategy materialized</li>
              <li>It was created by @ianfeather and his team in London</li>
              <li>Provides consistent UI look and feel</li>
              <li>Aggregates our docs, methodology and metrics</li>
              <li>Great tool for our designers and third parties</li>
              <li>Reuse grid, utility classes, helpers</li>
              <li>It's unique and successfule because it's a live representation of our front end</li>
            </ul>
            <aside class="notes">
              hit the jackpot when their team started to get
overwhelmed with requests for additions fixes ideas
            </aside>
        </section>

        <section data-background="#d1ebff">
					<h2>QUESTIONS ?</h2>
					<p>
						<a href="http://twitter.com/gcziprusz">@gcziprusz</a>&nbsp;&nbsp;|&nbsp;&nbsp;
						<a href="mailto:gabe.cziprusz@lonelyplanet.com">gabe.cziprusz@lonelyplanet.com</a>
					</p>
				</section>
			</div>
		</div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		<script>
		Reveal.initialize({
  controls: true,
			progress: true,
			history: true,
			center: true,
			theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
			transition: Reveal.getQueryHash().transition || 'none', // default/cube/page/concave/zoom/linear/fade/none
			dependencies: [
				{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
				{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
			]
			});
		</script>
	</body>
</html>
